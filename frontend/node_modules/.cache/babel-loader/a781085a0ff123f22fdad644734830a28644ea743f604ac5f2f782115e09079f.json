{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{MainNav}from\"../components/nav\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Shop=()=>{const[searchTerm,setSearchTerm]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"All\");const[products,setProducts]=useState([]);useEffect(()=>{axios.get(\"http://localhost:8000/api/products\").then(res=>{console.log(\"DATA FROM API:\",res.data);setProducts(Array.isArray(res.data.content)?res.data.content:[]);}).catch(err=>{console.error(\"Error fetching products:\",err);setProducts([]);});},[]);const filteredProducts=products.filter(product=>{var _product$name,_product$description;const matchSearch=((_product$name=product.name)===null||_product$name===void 0?void 0:_product$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_product$description=product.description)===null||_product$description===void 0?void 0:_product$description.toLowerCase().includes(searchTerm.toLowerCase()));const matchCategory=selectedCategory===\"All\"||product.category===selectedCategory;return matchSearch&&matchCategory;});const bgImage=\"\".concat(process.env.PUBLIC_URL,\"/background.png\");// ... style definitions giữ nguyên ...\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainNav,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"shop-container\",style:{backgroundImage:\"url(\".concat(bgImage,\")\"),backgroundSize:\"cover\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"center\",backgroundAttachment:\"fixed\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"90px\",left:\"50%\",transform:\"translateX(-50%)\",width:\"80%\",background:\"rgba(188, 222, 214, 0.9)\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 4px 10px rgba(0,0,0,0.1)\",textAlign:\"center\"},id:\"header-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"SHOPPING WITH US\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\",display:\"flex\",justifyContent:\"center\",gap:\"20px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for product...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{padding:\"10px\",fontSize:\"16px\",borderRadius:\"5px\",border:\"1px solid #ccc\",width:\"200px\"}}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),style:{padding:\"10px\",fontSize:\"16px\",borderRadius:\"5px\",border:\"1px solid #ccc\",width:\"200px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Vegetable\",children:\"Vegetable\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Tree\",children:\"Tree\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Agriculture products\",children:\"Agriculture products\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",justifyContent:\"center\",marginTop:\"290px\"},children:filteredProducts.map(product=>{var _product$name2;return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"rgba(255, 255, 255, 0.8)\",margin:\"10px\",padding:\"20px\",borderRadius:\"10px\",textAlign:\"left\",width:\"300px\",position:\"relative\"},children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name,style:{width:\"100%\",height:\"200px\",maxHeight:\"200px\",display:\"block\",objectFit:\"cover\",borderRadius:\"10px\"}}),/*#__PURE__*/_jsx(\"h4\",{children:(_product$name2=product.name)===null||_product$name2===void 0?void 0:_product$name2.toUpperCase()}),/*#__PURE__*/_jsxs(\"p\",{children:[product.price,\" \",product.currency]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",product.quantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Asset Type: \",product.assetType]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"By: \",product.owner]}),/*#__PURE__*/_jsx(Link,{style:{position:\"absolute\",bottom:\"10px\",right:\"10px\",backgroundColor:\"rgba(188, 222, 214, 0.9)\",color:\"black\",padding:\"8px 15px\",borderRadius:\"5px\",border:\"none\",cursor:\"pointer\",fontSize:\"1rem\",boxShadow:\"3px 3px 8px rgba(0, 0, 0, 0.3)\"},to:\"/details/\".concat(product.id),children:\"Details\"})]},product.id);})})]})]});};export{Shop};","map":{"version":3,"names":["React","useEffect","useState","MainNav","axios","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Shop","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","products","setProducts","get","then","res","console","log","data","Array","isArray","content","catch","err","error","filteredProducts","filter","product","_product$name","_product$description","matchSearch","name","toLowerCase","includes","description","matchCategory","category","bgImage","concat","process","env","PUBLIC_URL","children","id","style","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","backgroundAttachment","minHeight","position","top","left","transform","width","background","padding","borderRadius","boxShadow","textAlign","marginTop","display","justifyContent","gap","type","placeholder","value","onChange","e","target","fontSize","border","flexWrap","map","_product$name2","margin","src","img","alt","height","maxHeight","objectFit","toUpperCase","price","currency","quantity","assetType","owner","bottom","right","backgroundColor","color","cursor","to"],"sources":["C:/Users/ADMIN/Downloads/demo/demo/frontend/src/pages/shop.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { MainNav } from \"../components/nav\"; \r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Shop = () => {\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8000/api/products\")\r\n            .then(res => {\r\n                console.log(\"DATA FROM API:\", res.data);\r\n                setProducts(Array.isArray(res.data.content) ? res.data.content : []);\r\n            })\r\n            .catch(err => {\r\n                console.error(\"Error fetching products:\", err);\r\n                setProducts([]);\r\n            });\r\n    }, []);\r\n\r\n\r\n    const filteredProducts = products.filter((product) => {\r\n        const matchSearch = product.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            product.description?.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const matchCategory = selectedCategory === \"All\" || product.category === selectedCategory;\r\n        return matchSearch && matchCategory;\r\n    });\r\n\r\n    const bgImage = `${process.env.PUBLIC_URL}/background.png`;\r\n\r\n    // ... style definitions giữ nguyên ...\r\n\r\n    return (\r\n        <>\r\n            <MainNav />\r\n            <div id=\"shop-container\" style={{\r\n                backgroundImage: `url(${bgImage})`,\r\n                backgroundSize: \"cover\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundPosition: \"center\",\r\n                backgroundAttachment: \"fixed\",\r\n                minHeight: \"100vh\",\r\n            }}>\r\n                {/* Header + Search & Category */}\r\n                <div style={{\r\n                    position: \"absolute\",\r\n                    top: \"90px\",\r\n                    left: \"50%\",\r\n                    transform: \"translateX(-50%)\",\r\n                    width: \"80%\",\r\n                    background: \"rgba(188, 222, 214, 0.9)\",\r\n                    padding: \"20px\",\r\n                    borderRadius: \"10px\",\r\n                    boxShadow: \"0 4px 10px rgba(0,0,0,0.1)\",\r\n                    textAlign: \"center\",\r\n                }} id=\"header-container\">\r\n                    <h1>SHOPPING WITH US</h1>\r\n                    <div style={{\r\n                        marginTop: \"20px\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        gap: \"20px\"\r\n                    }}>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search for product...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                            style={{\r\n                                padding: \"10px\",\r\n                                fontSize: \"16px\",\r\n                                borderRadius: \"5px\",\r\n                                border: \"1px solid #ccc\",\r\n                                width: \"200px\"\r\n                            }}\r\n                        />\r\n                        <select\r\n                            value={selectedCategory}\r\n                            onChange={(e) => setSelectedCategory(e.target.value)}\r\n                            style={{\r\n                                padding: \"10px\",\r\n                                fontSize: \"16px\",\r\n                                borderRadius: \"5px\",\r\n                                border: \"1px solid #ccc\",\r\n                                width: \"200px\",\r\n                            }}\r\n                        >\r\n                            <option value=\"All\">All Categories</option>\r\n                            <option value=\"Vegetable\">Vegetable</option>\r\n                            <option value=\"Tree\">Tree</option>\r\n                            <option value=\"Agriculture products\">Agriculture products</option>\r\n                            <option value=\"Other\">Other</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Product List */}\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    justifyContent: \"center\",\r\n                    marginTop: \"290px\",\r\n                }}>\r\n                    {filteredProducts.map((product) => (\r\n                        <div key={product.id} style={{\r\n                            background: \"rgba(255, 255, 255, 0.8)\",\r\n                            margin: \"10px\",\r\n                            padding: \"20px\",\r\n                            borderRadius: \"10px\",\r\n                            textAlign: \"left\",\r\n                            width: \"300px\",\r\n                            position: \"relative\",\r\n                        }}>\r\n                            <img src={product.img} alt={product.name} style={{\r\n                                width: \"100%\",\r\n                                height: \"200px\",\r\n                                maxHeight: \"200px\",\r\n                                display: \"block\",\r\n                                objectFit: \"cover\",\r\n                                borderRadius: \"10px\"\r\n                            }} />\r\n                            <h4>{product.name?.toUpperCase()}</h4>\r\n                            <p>{product.price} {product.currency}</p>\r\n                            <p>Quantity: {product.quantity}</p>\r\n                            <p>Asset Type: {product.assetType}</p>\r\n                            <p>By: {product.owner}</p>\r\n                            <Link\r\n                                style={{\r\n                                    position: \"absolute\",\r\n                                    bottom: \"10px\",\r\n                                    right: \"10px\",\r\n                                    backgroundColor: \"rgba(188, 222, 214, 0.9)\",\r\n                                    color: \"black\",\r\n                                    padding: \"8px 15px\",\r\n                                    borderRadius: \"5px\",\r\n                                    border: \"none\",\r\n                                    cursor: \"pointer\",\r\n                                    fontSize: \"1rem\",\r\n                                    boxShadow: \"3px 3px 8px rgba(0, 0, 0, 0.3)\"\r\n                                }}\r\n                                to={`/details/${product.id}`}\r\n                            >\r\n                                Details\r\n                            </Link>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport { Shop };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}