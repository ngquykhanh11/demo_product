{"ast":null,"code":"import{BrowserProvider}from\"ethers\";import{Contract}from\"ethers\";// i copied the ABI so it looks like a mess tho\nconst contractAddress=\"0x23fAC5155570Af04Bac10BF1b1a6Edd39c98d900\";const abi=[[{\"inputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"}],\"name\":\"createProduct\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"creator\",\"type\":\"address\"}],\"name\":\"FarmCreated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"productCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"products\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"price\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]];let contract;export async function connectContract(){if(window.ethereum){const provider=new BrowserProvider(window.ethereum);await provider.send(\"eth_requestAccounts\",[]);const signer=provider.getSigner();contract=new Contract(contractAddress,abi,await provider.getSigner());return contract;}else{throw new Error(\"MetaMask not found\");}}","map":{"version":3,"names":["BrowserProvider","Contract","contractAddress","abi","contract","connectContract","window","ethereum","provider","send","signer","getSigner","Error"],"sources":["C:/Users/ADMIN/Downloads/demo/demo/frontend/src/blockchain/service.js"],"sourcesContent":["import { BrowserProvider } from \"ethers\";\r\nimport { Contract } from \"ethers\";\r\n\r\n\r\n// i copied the ABI so it looks like a mess tho\r\nconst contractAddress = \"0x23fAC5155570Af04Bac10BF1b1a6Edd39c98d900\";\r\nconst abi = [ [\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"name\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"price\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"createProduct\",\r\n\t\t\"outputs\": [],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"constructor\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"creator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"FarmCreated\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"productCount\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"products\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"string\",\r\n\t\t\t\t\"name\": \"name\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"uint256\",\r\n\t\t\t\t\"name\": \"price\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"internalType\": \"address\",\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t}\r\n]];\r\n\r\nlet contract;\r\n\r\nexport async function connectContract() {\r\n  if (window.ethereum) {\r\n    const provider = new BrowserProvider(window.ethereum);\r\n    await provider.send(\"eth_requestAccounts\", []);\r\n    const signer = provider.getSigner();\r\n    contract = new Contract(contractAddress, abi, await provider.getSigner());\r\n    return contract;\r\n  } else {\r\n    throw new Error(\"MetaMask not found\");\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAASA,eAAe,KAAQ,QAAQ,CACxC,OAASC,QAAQ,KAAQ,QAAQ,CAGjC;AACA,KAAM,CAAAC,eAAe,CAAG,4CAA4C,CACpE,KAAM,CAAAC,GAAG,CAAG,CAAE,CACb,CACC,QAAQ,CAAE,CACT,CACC,cAAc,CAAE,QAAQ,CACxB,MAAM,CAAE,MAAM,CACd,MAAM,CAAE,QACT,CAAC,CACD,CACC,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,OAAO,CACf,MAAM,CAAE,SACT,CAAC,CACD,CACD,MAAM,CAAE,eAAe,CACvB,SAAS,CAAE,EAAE,CACb,iBAAiB,CAAE,YAAY,CAC/B,MAAM,CAAE,UACT,CAAC,CACD,CACC,QAAQ,CAAE,EAAE,CACZ,iBAAiB,CAAE,YAAY,CAC/B,MAAM,CAAE,aACT,CAAC,CACD,CACC,WAAW,CAAE,KAAK,CAClB,QAAQ,CAAE,CACT,CACC,SAAS,CAAE,KAAK,CAChB,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,SAAS,CACjB,MAAM,CAAE,SACT,CAAC,CACD,CACD,MAAM,CAAE,aAAa,CACrB,MAAM,CAAE,OACT,CAAC,CACD,CACC,QAAQ,CAAE,EAAE,CACZ,MAAM,CAAE,cAAc,CACtB,SAAS,CAAE,CACV,CACC,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,EAAE,CACV,MAAM,CAAE,SACT,CAAC,CACD,CACD,iBAAiB,CAAE,MAAM,CACzB,MAAM,CAAE,UACT,CAAC,CACD,CACC,QAAQ,CAAE,CACT,CACC,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,EAAE,CACV,MAAM,CAAE,SACT,CAAC,CACD,CACD,MAAM,CAAE,UAAU,CAClB,SAAS,CAAE,CACV,CACC,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,SACT,CAAC,CACD,CACC,cAAc,CAAE,QAAQ,CACxB,MAAM,CAAE,MAAM,CACd,MAAM,CAAE,QACT,CAAC,CACD,CACC,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,OAAO,CACf,MAAM,CAAE,SACT,CAAC,CACD,CACC,cAAc,CAAE,SAAS,CACzB,MAAM,CAAE,OAAO,CACf,MAAM,CAAE,SACT,CAAC,CACD,CACD,iBAAiB,CAAE,MAAM,CACzB,MAAM,CAAE,UACT,CAAC,CACD,CAAC,CAEF,GAAI,CAAAC,QAAQ,CAEZ,MAAO,eAAe,CAAAC,eAAeA,CAAA,CAAG,CACtC,GAAIC,MAAM,CAACC,QAAQ,CAAE,CACnB,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAR,eAAe,CAACM,MAAM,CAACC,QAAQ,CAAC,CACrD,KAAM,CAAAC,QAAQ,CAACC,IAAI,CAAC,qBAAqB,CAAE,EAAE,CAAC,CAC9C,KAAM,CAAAC,MAAM,CAAGF,QAAQ,CAACG,SAAS,CAAC,CAAC,CACnCP,QAAQ,CAAG,GAAI,CAAAH,QAAQ,CAACC,eAAe,CAAEC,GAAG,CAAE,KAAM,CAAAK,QAAQ,CAACG,SAAS,CAAC,CAAC,CAAC,CACzE,MAAO,CAAAP,QAAQ,CACjB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAQ,KAAK,CAAC,oBAAoB,CAAC,CACvC,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}